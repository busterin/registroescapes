<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registro Escapes</title>
    <meta name="theme-color" content="#d35d4d" />
    <link rel="icon" type="image/svg+xml" href="images/favicon-lock.svg" />
    <link rel="apple-touch-icon" href="images/icon-lock-red.svg" />
    <link rel="manifest" href="site.webmanifest" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="app-bg"></div>
    <section id="auth-gate" class="auth-gate">
      <div class="brand-logo-wrap" aria-label="Logo">
        <img class="brand-logo" src="images/logoblanco.png" alt="Logo" />
      </div>
      <div class="auth-card">
        <h2>Acceso privado</h2>
        <form id="auth-form" class="auth-form">
          <label>
            Contrase침a
            <div class="password-wrap">
              <input id="auth-password" type="password" autocomplete="current-password" required />
              <button id="auth-toggle-password" class="password-toggle" type="button" aria-label="Mostrar contrase침a">游녜</button>
            </div>
          </label>
          <label class="remember-row">
            <input id="auth-remember" type="checkbox" />
            Recordar contrase침a
          </label>
          <button class="btn-primary" type="submit">Entrar</button>
        </form>
        <p id="auth-error" class="auth-error hidden">Contrase침a incorrecta.</p>
      </div>
    </section>

    <main id="app-root" class="app hidden">
      <div class="brand-logo-wrap" aria-label="Logo">
        <img class="brand-logo" src="images/logoblanco.png" alt="Logo" />
      </div>
      <header class="topbar">
        <h1>Registro Escapes</h1>
        <nav class="tabs" aria-label="Secciones">
          <button class="tab-btn active" data-section="registro">REGISTRO</button>
          <button class="tab-btn" data-section="sesiones">SESIONES</button>
          <button class="tab-btn" data-section="comparativa">COMPARATIVA</button>
        </nav>
      </header>

      <section id="registro" class="panel active" aria-labelledby="registro">
        <div class="card">
          <h2>Nuevo registro</h2>
          <form id="registro-form" class="grid-form">
            <label>
              Sala de escape
              <select id="sala" required>
                <option value="Frankie">Frankie</option>
                <option value="Magia">Magia</option>
                <option value="Filosofal">Filosofal</option>
                <option value="El regreso del vampiro">Vampiro</option>
              </select>
            </label>

            <label>
              Mes
              <select id="mes" required></select>
            </label>

            <label>
              A침o
              <select id="anio" required></select>
            </label>

            <label>
              Categor칤a
              <select id="categoria" required>
                <option value="2a5p">2a5p</option>
                <option value="6p">6p</option>
                <option value="7p">7p</option>
                <option value="2a6(Filo)">2a6(Filo)</option>
                <option value="7 a 12(Filo)">7 a 12(Filo)</option>
                <option value="Guiado">Guiado</option>
                <option value="Merienda">Merienda</option>
              </select>
            </label>

            <label>
              N.췈 de sesiones
              <input id="sesiones" type="number" min="0" step="1" required />
            </label>

            <div class="form-checks">
              <label class="check-row">
                <input id="check-nocturna" type="checkbox" />
                Sesi칩n nocturna
              </label>
              <label class="check-row">
                <input id="check-escapeup" type="checkbox" />
                EscapeUp
              </label>
              <label class="check-row">
                <input id="check-agencia" type="checkbox" />
                Agencia
              </label>
            </div>

            <button class="btn-primary" type="submit">Guardar registro</button>
          </form>
        </div>

        <div class="card">
          <div class="card-head">
            <h2>칔ltimos registros</h2>
            <div class="inline-filters">
              <label>
                Mes
                <select id="filtro-registro-mes"></select>
              </label>
              <label>
                A침o
                <select id="filtro-registro-anio"></select>
              </label>
            </div>
          </div>
          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th>Fecha</th>
                  <th>Sala</th>
                  <th>Categor칤a</th>
                  <th>Tarifa</th>
                  <th>Sesiones</th>
                  <th>Facturaci칩n</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="registros-body"></tbody>
            </table>
          </div>
          <p id="registros-empty" class="empty hidden">No hay registros para el filtro seleccionado.</p>
          <div id="registros-total" class="total-box"></div>
        </div>
      </section>

      <section id="sesiones" class="panel" aria-labelledby="sesiones">
        <div class="card">
          <div class="card-head">
            <h2>Resumen de sesiones</h2>
            <div class="inline-filters">
              <label>
                Modo
                <select id="sesiones-modo">
                  <option value="mes">Mes concreto</option>
                  <option value="anio">A침o completo</option>
                </select>
              </label>
              <label>
                Mes
                <select id="sesiones-mes"></select>
              </label>
              <label>
                A침o
                <select id="sesiones-anio"></select>
              </label>
            </div>
          </div>

          <div id="total-global" class="total-box"></div>

          <details class="accordion accordion-frankie">
            <summary>Frankie</summary>
            <div id="sesiones-frankie"></div>
          </details>

          <details class="accordion accordion-magia">
            <summary>Magia</summary>
            <div id="sesiones-magia"></div>
          </details>

          <details class="accordion accordion-filosofal">
            <summary>Filosofal</summary>
            <div id="sesiones-filosofal"></div>
          </details>

          <details class="accordion accordion-vampiro">
            <summary>Vampiro</summary>
            <div id="sesiones-vampiro"></div>
          </details>
        </div>
      </section>

      <section id="comparativa" class="panel" aria-labelledby="comparativa">
        <div class="card">
          <h2>Comparativa de periodos</h2>

          <div class="compare-grid">
            <fieldset>
              <legend>Periodo A</legend>
              <label>
                Alcance
                <select id="comp-a-modo">
                  <option value="mes">Mes concreto</option>
                  <option value="anio">A침o completo</option>
                </select>
              </label>
              <label>
                Mes
                <select id="comp-a-mes"></select>
              </label>
              <label>
                A침o
                <select id="comp-a-anio"></select>
              </label>
            </fieldset>

            <fieldset>
              <legend>Periodo B</legend>
              <label>
                Alcance
                <select id="comp-b-modo">
                  <option value="mes">Mes concreto</option>
                  <option value="anio">A침o completo</option>
                </select>
              </label>
              <label>
                Mes
                <select id="comp-b-mes"></select>
              </label>
              <label>
                A침o
                <select id="comp-b-anio"></select>
              </label>
            </fieldset>
          </div>

          <div class="inline-filters bottom-gap">
            <label>
              Sala
              <select id="comp-sala">
                <option value="Todas">Todas las salas</option>
                <option value="Frankie">Frankie</option>
                <option value="Magia">Magia</option>
                <option value="Filosofal">Filosofal</option>
                <option value="El regreso del vampiro">Vampiro</option>
              </select>
            </label>
          </div>

          <div class="chart-layout">
            <div class="chart-stack">
              <h3>Sesiones</h3>
              <canvas id="pie-chart-sessions" width="320" height="320" aria-label="Gr치fico comparativo de sesiones" role="img"></canvas>
            </div>
            <div class="chart-stack">
              <h3>Facturaci칩n</h3>
              <canvas id="pie-chart-billing" width="320" height="320" aria-label="Gr치fico comparativo de facturaci칩n" role="img"></canvas>
            </div>
            <div id="compare-meta" class="compare-meta"></div>
          </div>
        </div>
      </section>
    </main>
    <div id="app-toast" class="app-toast hidden" role="status" aria-live="polite"></div>

    <script src="script.js"></script>
  </body>
</html>
